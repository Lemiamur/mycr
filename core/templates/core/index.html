{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock title %}</title>   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link href="{% static 'core/css/core.css'%}" rel="stylesheet">
    <script src="{% static 'core/js/core.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@2.7.3/dist/alpine.js"></script>
</head>
<body>
    <top>
        <div class="container">
            <h1>Tabby Tabs</h1>
          
            <div class="tabs">
              <div class="tabby-tab">
                <input type="radio" id="tab-1" name="tabby-tabs">
                <label class="tab-1" for="tab-1" onclick="loadTabContent('/deals/', 'deals')">Tabby Tab 1</label>
                <div class="tabby-content" id="deals-content">
                  {% block deals %}{% endblock deals %}
                </div>
              </div>
          
              <div class="tabby-tab">
                <input type="radio" id="tab-2" name="tabby-tabs">
                <label for="tab-2" onclick="loadTabContent('/contacts/', 'contacts')">Tabby Tab 2</label>
                <div class="tabby-content" id="contacts-content">
                  {% block contacts %}{% endblock contacts %}
                </div>
              </div>
          
              <div class="tabby-tab">
                <input type="radio" id="tab-3" name="tabby-tabs">
                <label for="tab-3">Tabby Tab 3</label>
                <div class="tabby-content">
                </div>
              </div>
          
              <div class="tabby-tab">
                <input type="radio" id="tab-4" name="tabby-tabs">
                <label for="tab-4">Tabby Tab 4</label>
                <div class="tabby-content">
                </div>
              </div>
              
            </div>
        </div>
    </top>

    <script>
      function loadTabContent(url, targetId) {
        fetch(url)
            .then(response => response.text())
            .then(data => {
                document.getElementById(targetId).innerHTML = data;
            })
            .catch(error => {
                console.error(error);
            });
        window.history.replaceState({}, "", url);
    }
    </script>
</body>
</html>
